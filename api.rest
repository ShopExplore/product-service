###
@server = http://localhost:9087

###
@api = {{server}}/v2

### token
@token= eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZWYiOiI2NTdlNTgzN2RiNzgzMjNkNjc3YTQ0NDgiLCJyb2xlIjoidXNlciIsImRldmljZUlkIjoiNGE3YmQzNDE5OGViZTJlZjI4MzYwM2M1N2VkNjM2ZDMyNGNhZjk0NzM4YTRhZWMxYzUxYTBkNDdmNDU0MjkyZSIsInNlc3Npb25JZCI6IjAxSEhUUkpFQVZWSktIV05WVloyN1o5QUtXIiwiaWF0IjoxNzAyNzc4OTc2LCJleHAiOjE4NzU1Nzg5NzYsImF1ZCI6IndlYi11c2VyIiwiaXNzIjoiY29ublRleHQtZGV2ZWxvcG1lbnQifQ.CiBdN7Rw-L2GeAbRlLTKK0j6uTdVqp7rC5oLB9BlzyA

###
GET {{server}}

###
GET {{server}}/v2

### sign up
POST {{api}}/auth/signup
Content-Type: application/json

{
    "userName": "Andy",
    "email": "andrew@email.com",
    "password": "passwurd11"
}

### verify otp
POST {{api}}/auth/verify-otp 
Content-Type: application/json

{
    "email": "andrew@email.com",
    "code": "955ec1",
    "otpPurpose": "verify-acct"
}

### resend otp
POST {{api}}/auth/resend-otp
Content-Type: application/json

{
    "email": "amidst@email.com",
    "otpPurpose": "reset-password"
}

### sign in
POST {{api}}/auth/login
Content-Type: application/json

{
   "email": "andrew@email.com",
    "password": "passwurd11"
}

### forgot password
POST {{api}}/auth/forgot-password
Content-Type: application/json

{
     "email": "amidst@email.com"
}

### reset password
PATCH  {{api}}/auth/reset-password
Content-Type: application/json

{
    "email": "amidst@email.com",
    "password": "password2",
    "confirmPassword": "password2",
    "code": "207766"
}

###search user(s)
GET {{api}}/users?search_query=andrew
Content-Type: application/json
Authorization: Bearer {{token}}

### invite supplier
POST {{api}}/users/invite
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "role": "supplier",
    "email": "sup@email.com"
}

### accept invitation
POST {{api}}/users/accept-invite
Content-Type: application/json

{
    "code": "01HHK2SJ1TYPMF5HA3WPV466A6",
    "userName": "yormmy",
    "email": "sup@email.com",
    "password": "yummy1"
}

### get invites
GET {{api}}/users/invites
Content-Type: application/json
Authorization: Bearer {{token}}

### create product
POST {{api}}/products
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "productName": "Iphone 15",
    "category": "electronics",
    "description": "apple latest product",
    "price": 1200,
    "quantityInStock": 90,
    "lowStockAt": 10
}

### delete product
DELETE {{api}}/products/657a72f5848260ca33053dc5
Authorization: Bearer {{token}}

### edit product
PATCH  {{api}}/products/edit-product
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "productId": "657a72f5848260ca33053dc5",
    "productName": "Iphone 19",
    "category": "electronics",
    "description": "apple latest product",
    "price": 19000,
    "quantityInStock": 800,
    "lowStockAt": 100
}

### search product

### iniiate order
POST {{api}}/transaction/initiate-order
Content-Type: application/json
Authorization: Bearer {{token}}

{
    "idempotencyKey": "h58nsegh_12wedfghuytrdcvbn",
    "productId": "657a72f5848260ca33053dc5",
    "driver": "paystack",
    "deliveryLocation": {
        "country": "Nigeria",
        "postalCode": "240272",
        "state": "Kwara",
        "city": "Ilorin"
    },
    "currency": "NGN",
    "quantity": 2
}